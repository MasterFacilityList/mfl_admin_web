<contentheader></contentheader>
<div ui-view="delete"></div>
<div class="col-xs-12 margin-t-20">
    <div class="col-sm-10 col-sm-offset-1 content-card margin-t-20">
        <form ng-submit="save(frm_documents)" name="frm_documents" class="col-sm-10 col-sm-offset-1 margin-t-20" novalidate>
            <drf-err-msg></drf-err-msg>
            <div class="form-group">
                <label class="control-label">Name&#42;</label>
                <input id="name" type="text" ng-model="document.name" required name="name" api-checker class="form-control"/>
            </div>
            <div class="form-group">
                <label class="control-label">Description</label>
                <textarea id="desc" type="text" ng-model="document.description" name="description" class="form-control" api-checker></textarea>
            </div>
            <div class="form-group">
                <label class="control-label">File&#42;</label>
                <input type="file" name="fyl" required api-checker class="form-control" ng-model="document.file" onchange="angular.element(this).scope().fileUpdated(angular.element(this), this.files[0])">
            </div>
            <div class="form-group" ng-if="document.file_url">
                <label class="control-label">Current file</label>
                <div class="row">
                    <a target="_blank" download ng-href="{{document.file_url}}" class="form-control-static col-xs-12">{{document.file_url}}</a>
                </div>
            </div>
            <div class="form-group margin-b-20 margin-t-20">
                <button class="btn btn-primary" type="submit" requires-user-feature="is_staff">Save</button>
                <a class="btn btn-default" ui-sref="setup.documents" requires-user-feature="is_staff">Cancel</a>
                <mfl-revision-view ng-show="document.id" id="document.id" wrapper="wrapper" ></mfl-revision-view>
            </div>
        </form>
    </div>
</div>
