<!-- /- Start of tabbed multi-step form -->
<div class="col-xs-12 pad-0 margint-t--15 tab-content ">
    <div class="row margin-b-10">
        <!-- Beginning of user contacts reimplementation -->
        <div class="col-xs-12 margin-t-0 pad-0" requires-permission="common.add_usercontact">
            <div class="col-xs-12">
                <h4 class="fw-600 fs-18"> User Contact</h4>
            </div>
            <div class="col-xs-12">
            <form name="contacts">
                <table class="table table-hover col-xs-12 custom-well">
                    <thead class="grey-header">
                        <th class="col-xs-5">Contact Type</th>
                        <th class="col-xs-6">Contact Details</th>
                        <th class="col-xs-1 text-center"></th>
                    </thead>
                    <tbody>
                        <tr class="fade-content" ng-repeat="contact in user_contacts">
                            <td class="col-xs-5">
                                <div class="form-group grid-inputs">
                                    <select class="form-control" name="contact_type" ng-model="contact.contact_type" required api-checker>
                                        <option value="" disabled>Select Contact Type</option>
                                        <option ng-repeat="cont in contact_types" ng-selected="{{cont.id == contact.contact_type}}" value="{{cont.id}}">{{cont.name}}</option>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="form-group grid-inputs">
                                    <input class="form-control" name="contact" type="text" placeholder="Contact Details" ng-model="contact.contact" api-checker/>
                                </div>
                            </td>
                            <td class="col-xs-1 text-center">
                                <a ng-click="removeContact(contact)" style="cursor: pointer;" ng-if="user_contacts.length > 1">
                                    <i class="fa fa-times-circle fa-2x grid-inputs text-danger"></i>
                                </a>
                            </td>
                        </tr>
                        <tr ng-if="user_contacts.length === 0 && !spinner" class="">
                            <td colspan="3" class="text-left">
                                <i class="fa fa-info-circle"></i> No contacts assigned to user
                            </td>
                        </tr>
                        <tr ng-if="spinner" class="">
                            <td colspan="3" class="text-center">
                                <i class="fa fa-circle-o-notch fa-spin fa-2x"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            </div>
            <div class="col-xs-12 text-right margin-b-10">
                <a class="btn btn-primary pull-right" ng-click="addContact()" >
                    <i class="fa fa-plus-square-o"></i> Add
                </a>
            </div>
        </div>
        <!-- End of user contacts reimplementation -->
            <!-- <div class="col-xs-12 margin-t-20" requires-permission="common.add_usercontact">
                <div class="col-xs-12 content-card form-card">
                    <h4 class="fw-600 fs-18">Add Contact</h4>
                    <form ng-submit="add()">
                       <div class="row">
                            <div class="form-group col-md-4">
                                <select class="form-control" name="contact_type" ng-model="contact.contact_type" required>
                                    <option value="">Select Contact Type</option>
                                    <option ng-repeat="cont in contact_types" ng-value="cont.id">{{cont.name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-5">
                                <input class="form-control" name="contact" type="text" placeholder="Contact Details" ng-model="contact.contact" required />
                            </div>
                            <div class="col-md-3 margin-b-10 text-right">
                                <button type="submit" class="btn btn-primary margin-r-10">
                                    <i class="fa fa-plus-circle"></i> Add Contact
                                </button>
                            </div>
                       </div>
                    </form>
                </div>
            </div>

            <div class="col-xs-12">
                <div class="margin-t-20" ng-show="contacts.length == 0">
                   <div class="alert alert-info">
                       <span class="fs-16"> <i class="fa fa-info"></i> No contacts have been added so far.</span>
                   </div>
                </div>
                <div class="content-card margin-t-20" ng-show="contacts.length > 0">
                    <h4 class="fw-600 fs-18">Current User Contacts</h4>
                    <table class="table fs-14">
                       <thead>
                           <tr>
                               <th class="fs-16">Contact Type</th>
                               <th class="fs-16">Contact</th>
                               <th></th>
                           </tr>
                       </thead>
                        <tbody>
                            <tr ng-repeat="child in contacts">
                                <td class="pad-t-15 fs-16 fw-500">
                                    {{child.contact_type_text | titlecase}}
                                </td>
                                <td class="pad-t-15 fs-16 fw-500">
                                    {{child.contact_text}}
                                </td>
                                <td class="text-right">
                                    <span ng-if="child.delete_spinner">
                                        <i class="fa fa-spin fa-circle-o-notch"></i>
                                    </span>
                                    <a class="btn btn-danger" popover-toggle popover-trigger="open" popover-template="'common/tpls/del-pop.tpl.html'" popover-placement="left" requires-permission="common.delete_usercontact" >
                                        Delete
                                    </a>
                                </td>
                            </tr>
                            <tr ng-if="spinner">
                                <td colspan="3" class="text-center">
                                    <i class="fa fa-spin fa-circle-o-notch fa-2x"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div> -->

            <div class="col-xs-12">
                <div ng-if="!create" class="margin-b-20 margin-t-10">
                    <button class="btn btn-primary" ui-sref="users.user_edit.basic ({user_id : user_id})">
                        <i class="fa fa-angle-double-left"></i> Details
                    </button>
                    <button class="btn btn-primary pull-right" ui-sref="users.user_edit.groups ({user_id : user_id})">
                        Groups <i class="fa fa-angle-double-right"></i>
                    </button>
                </div>
                <div ng-if="create" class="margin-b-20 margin-t-10">
                    <button class="btn btn-primary" ui-sref="users.user_create.basic ({user_id : user_id})">
                        <i class="fa fa-angle-double-left"></i> Details
                    </button>
                    <button class="btn btn-primary pull-right" ng-click="goToGroups()">
                        Groups <i class="fa fa-angle-double-right"></i>
                    </button>
                </div>
            </div>

    </div>
</div>
